<!--
  Generated template for the CotegoriasPage page.
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="formHeader"> 
  <ion-navbar *ngIf="lupa">
      <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
        </button>
          <ion-buttons class="tituloTab">
              <button ion-button icon-only (click)="doFilter()">
                  <img src="https://img.icons8.com/color/35/000000/filled-filter.png">
              </button>
              <!-- <div style="background: url('https://img.icons8.com/color/48/000000/filled-filter.png') no-repeat;">
                <ion-select>
                  <ion-option value="1">Option 1</ion-option>
                 
                </ion-select>
              </div> -->
          </ion-buttons>
      <ion-buttons end class="lupa" >
          <button ion-button icon-only (click)="buscarlupa();">
              <ion-icon style="font-size: 31px;" md="md-search"></ion-icon>
          </button>
        </ion-buttons>
  </ion-navbar>
  
  <ion-navbar *ngIf="!lupa">
      <ion-item class="itembar">
          <span item-left start style="margin:0px; padding-right:15px;">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
              width="24" height="24"
              viewBox="0 0 192 192"
              style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,192v-192h192v192z" fill="none"></path><g fill="#3498db"><g id="surface1"><path d="M75,0c-41.35547,0 -75,33.64453 -75,75c0,41.35547 33.64453,75 75,75c16.54688,0 31.83984,-5.39062 44.25,-14.49609c0,0 8.33203,8.15625 8.73047,8.29688c0,0.07031 -0.01172,0.12891 -0.01172,0.19922c0,4.00781 1.55859,7.78125 4.39453,10.60547l31.03125,31.03125c2.92969,2.92969 6.76172,4.38281 10.60547,4.38281c3.84375,0 7.6875,-1.45312 10.60547,-4.38281l1.03125,-1.04297c2.83594,-2.82422 4.39453,-6.58594 4.39453,-10.59375c0,-4.00781 -1.55859,-7.78125 -4.39453,-10.60547l-31.03125,-31.03125c-2.97656,-2.97656 -6.89062,-4.41797 -10.79297,-4.35937c-0.15234,-0.41016 -8.30859,-8.75391 -8.30859,-8.75391c9.10547,-12.41016 14.49609,-27.70312 14.49609,-44.25c0,-41.35547 -33.64453,-75 -75,-75zM75,6c38.05078,0 69,30.94922 69,69c0,38.05078 -30.94922,69 -69,69c-38.05078,0 -69,-30.94922 -69,-69c0,-38.05078 30.94922,-69 69,-69zM75,18c-15.22266,0 -29.54297,5.92969 -40.3125,16.6875c-22.21875,22.23047 -22.21875,58.39453 0,80.61328c10.76953,10.76953 25.08984,16.69922 40.3125,16.69922c15.22266,0 29.54297,-5.92969 40.3125,-16.6875c22.21875,-22.23047 22.21875,-58.39453 0,-80.625c-10.76953,-10.75781 -25.08984,-16.6875 -40.3125,-16.6875zM75,24c13.61719,0 26.42578,5.30859 36.05859,14.94141c19.88672,19.875 19.88672,52.24219 0,72.11719c-9.63281,9.63281 -22.4414,14.94141 -36.05859,14.94141c-13.61719,0 -26.42578,-5.30859 -36.05859,-14.94141c-19.88672,-19.875 -19.88672,-52.23047 0,-72.11719c9.63281,-9.63281 22.44141,-14.94141 36.05859,-14.94141zM74.42578,33c-10.91016,0.12891 -21.31641,4.48828 -29.13281,12.29297c-1.17187,1.1836 -1.17187,3.07031 0,4.25391c0.58594,0.57422 1.35938,0.87891 2.13281,0.87891c0.76172,0 1.53516,-0.30469 2.12109,-0.87891c7.64063,-7.65234 18.19922,-11.4375 28.99219,-10.37109c1.65234,0.14063 3.11719,-1.04297 3.28125,-2.69531c0.16406,-1.65234 -1.04297,-3.11719 -2.69531,-3.28125c-1.57031,-0.15234 -3.14062,-0.22265 -4.69922,-0.19922zM95.57813,38.625c-1.14844,-0.16406 -2.35547,0.36328 -3,1.42969c-0.85547,1.41797 -0.39844,3.25781 1.03125,4.11328c2.46094,1.5 4.76953,3.30469 6.84375,5.37891c0.58594,0.58594 1.34766,0.87891 2.12109,0.87891c0.77344,0 1.53516,-0.29297 2.13281,-0.87891c1.16016,-1.17187 1.16016,-3.07031 0,-4.24219c-2.42578,-2.41406 -5.12109,-4.52344 -8.00391,-6.26953c-0.35156,-0.21094 -0.73828,-0.35156 -1.125,-0.41016zM33,72c-1.65234,0 -3,1.33594 -3,3c0,1.66406 1.34766,3 3,3h6c1.65234,0 3,-1.33594 3,-3c0,-1.66406 -1.34766,-3 -3,-3zM111,72c-1.65234,0 -3,1.33594 -3,3c0,1.66406 1.34766,3 3,3h6c1.65234,0 3,-1.33594 3,-3c0,-1.66406 -1.34766,-3 -3,-3zM41.67188,85.48828c-0.38672,-0.01172 -0.79687,0.05859 -1.17187,0.21094l-5.56641,2.25c-1.53515,0.6211 -2.27344,2.36719 -1.65234,3.90235c0.46875,1.17188 1.59375,1.88672 2.77734,1.88672c0.375,0 0.76172,-0.07031 1.125,-0.22266l5.56641,-2.25c1.53516,-0.62109 2.27344,-2.36719 1.65234,-3.90234c-0.46875,-1.14844 -1.55859,-1.86328 -2.73047,-1.875zM108.14063,86.0625c-1.17187,0 -2.28516,0.69141 -2.76562,1.82813c-0.64453,1.53516 0.05859,3.29297 1.59375,3.9375l5.51953,2.34375c0.375,0.16406 0.77344,0.23438 1.17188,0.23438c1.17188,0 2.27344,-0.67969 2.76563,-1.82812c0.64453,-1.52344 -0.07031,-3.28125 -1.59375,-3.92578l-5.51953,-2.34375c-0.38672,-0.16406 -0.78516,-0.24609 -1.17187,-0.24609zM49.54688,97.45313c-0.77344,0 -1.53516,0.29297 -2.12109,0.87891l-4.24219,4.24219c-1.17187,1.17188 -1.17187,3.07031 0,4.24219c0.58594,0.58594 1.34766,0.87891 2.1211,0.87891c0.77344,0 1.53515,-0.29297 2.12109,-0.87891l4.24219,-4.24219c1.17188,-1.17187 1.17188,-3.07031 0,-4.24219c-0.58594,-0.58594 -1.35937,-0.87891 -2.12109,-0.87891zM100.45313,97.45313c-0.76172,0 -1.53516,0.29297 -2.12109,0.87891c-1.17187,1.17188 -1.17187,3.07031 0,4.24219l4.24219,4.24219c0.58594,0.58594 1.34766,0.87891 2.1211,0.87891c0.77344,0 1.53515,-0.29297 2.12109,-0.87891c1.17188,-1.17187 1.17188,-3.07031 0,-4.24219l-4.24219,-4.24219c-0.58594,-0.58594 -1.35937,-0.87891 -2.12109,-0.87891zM60.9375,105.14063c-1.17187,0 -2.28516,0.67969 -2.76562,1.82813l-2.34375,5.51953c-0.64453,1.52344 0.07031,3.29297 1.59375,3.9375c0.38672,0.16406 0.77344,0.23438 1.17188,0.23438c1.16016,0 2.27344,-0.69141 2.76563,-1.82812l2.34375,-5.51953c0.64453,-1.52344 -0.07031,-3.29297 -1.59375,-3.9375c-0.38672,-0.16406 -0.78516,-0.23437 -1.17187,-0.23437zM88.53516,105.375c-0.38672,0 -0.79687,0.07031 -1.17187,0.22266c-1.54687,0.62109 -2.28516,2.36719 -1.66406,3.90234l2.25,5.56641c0.46875,1.17188 1.59375,1.875 2.78906,1.875c0.375,0 0.75,-0.07031 1.125,-0.22266c1.53516,-0.62109 2.27344,-2.36719 1.65234,-3.90234l-2.25,-5.56641c-0.46875,-1.14844 -1.55859,-1.85156 -2.73047,-1.875zM75,108c-1.65234,0 -3,1.33594 -3,3v6c0,1.66406 1.34766,3 3,3c1.65234,0 3,-1.33594 3,-3v-6c0,-1.66406 -1.34766,-3 -3,-3zM131.73047,123.97266l5.625,5.63672c-1.41797,0.70313 -2.77734,1.58203 -3.96094,2.76563l-1.03125,1.01953c-1.17187,1.17188 -2.05078,2.51953 -2.76562,3.94922l-5.625,-5.61328c2.77734,-2.39062 5.36719,-4.98047 7.75781,-7.75781zM144,133.96875c2.30859,0 4.61719,0.87891 6.375,2.63672l31.03125,31.03125c1.69922,1.69922 2.625,3.96094 2.625,6.36328c0,2.40234 -0.9375,4.66406 -2.63672,6.36328l-1.03125,1.03125c-3.51562,3.50391 -9.21094,3.50391 -12.72656,0l-31.03125,-31.03125c-1.69922,-1.69922 -2.63672,-3.96094 -2.63672,-6.36328c0,-2.40234 0.9375,-4.66406 2.63672,-6.36328l1.03125,-1.03125c1.75781,-1.75781 4.06641,-2.63672 6.36328,-2.63672z"></path></g></g></g></svg>
            </span>
            <span item-right start style="margin:0px; padding-right:15px;">
                <button  clear ion-button icon-only (click)="cerrarlupa();">
                    <ion-icon ios="ios-close" md="md-close"></ion-icon>
                </button>      
              </span>
        <ion-input class="lupabuscarcss" type="text" value="" autofocus placeholder="Buscar" [(ngModel)]="searchTerm"  (ionChange)="setFilteredItems()"></ion-input>
      </ion-item>
      <ion-buttons end>          
        </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content class="no-scroll fondo-app">
  <ion-refresher style="background: #eeecec;" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
        pullingIcon="arrow-dropdown"
        pullingText="Pull to refresh"
        refreshingSpinner="circles"
        refreshingText="Actualizando...">
    </ion-refresher-content>
  </ion-refresher>
  
          <ion-slides parallax="false"  class = "swiper-no-swiping" (ionSlideDidChange)="slideChanged()">
       
              <ion-slide >
                <div *ngFor="let datos of datos">
                    <div  class="marco overlay" style="display: block;height: 160px; width: 100%;" (click)="comercio(datos.id);">
                      <a (click)="comercio(datos.id);" > <img  src={{datos.img}} height="230px" style="display: block;width:100%;" ></a>
                      <div class="card-title-marco">{{datos.descripcion | titlecase}}</div>
                      <div class="card-subtitle-marco">{{datos.numero_de_establecimientos}} Establecimientos</div>
                    </div>
                </div>
              </ion-slide >
              </ion-slides>
              
              <!-- <ion-slide  id="map" #map> -->
                
              <!-- </ion-slide>
             <span>
               
             </span>
               -->
            <!-- </ion-slides> -->
            <!-- <div id="mostrarPromos" class="formContent " >
         
                <ion-slides class="image-slider " loop="true" slidesPerView="1.2" *ngFor="let datos1 of datos1.data">
                    <div >
                    <ion-slide class="slaider"  (click)="comercio(datos1.id_categorias)">
                        <ion-item >
                            <h5 class="correr"><strong>{{datos1.nombre | titlecase}}</strong></h5>
                            <small class="correr"> {{datos1.direccion}}</small>
                            <br>
                            <br>
                            <br>
                            <span item-right end  style="margin-right: 0px;">
                                <button clear ion-button style="font-size: 14px;color:#6FBBF9; padding-right: 0px;"  >{{datos1.categoria}} </button>
                              </span>
                            </ion-item>
                            <img  src="{{datos1.img_fondo}}" style="width:100%; height: 100px;">                            
                            <img class="logoredondo" src="{{datos1.logo}}" alt="">
                         
                    </ion-slide>
                  </div>
                  </ion-slides>

            </div> -->

            <!-- <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="totalPage < totalData"> -->
                <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
                <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>
              </ion-infinite-scroll>

            <!-- <ion-infinite-scroll >
                <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>
              </ion-infinite-scroll>    -->
        
              <!-- <ion-select >
                  <ion-option value="0" selected="true">Topics</ion-option>
                  <ion-option *ngFor="let topiclist of allTopics" value="{{topiclist.term_id}}"   [innerHTML]="topiclist.taxonomy_term_data_name">
                </ion-option>
              </ion-select> -->
              <select-searchable #sectionSelect (ngModel)="selecteTopic"  (ionChange)="topicChange($event,selecteTopic)"
                  item-content
                  [(ngModel)]="port"
                  [items]="ciudades"
                  itemValueField="id"
                  itemTextField="descripcion"
                  [canSearch]="true"
                  (onChange)="portChange($event)">
            </select-searchable>
                  
                 
</ion-content>
